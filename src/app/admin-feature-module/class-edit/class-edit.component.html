
<div class='loomContainer group'>

<form [formGroup]="classForm" novalidate (ngSubmit)="save()" class='loomForm'>
                                
<div class='padMe'>
        <h1>Class Info:</h1>
        <mat-form-field>
        <input matInput  formControlName='title' placeholder="Title" 
        name="title" required minlength="3" maxlength="50">
        </mat-form-field>

        <mat-form-field>

                <!-- <mat-select placeholder="Coursework for this class" name="course"
                formControlName='course' [(value)]="selected"> -->


        <mat-select placeholder="Coursework for this class" name="course"
          formControlName='course'>
            <mat-option>None</mat-option>
            <mat-option *ngFor="let course of courseSelections" [value]="course.value" ng-selected="course.value">
        {{ course.viewValue }}
        </mat-option>
        </mat-select>
        </mat-form-field>
        <br clear='all'>
        <br> 

        <div class='loomDate'>
        <mat-form-field>
        <input matInput [matDatepicker]="startDate" placeholder="Start Date" name="start" formControlName="start">
        <mat-datepicker-toggle mdSuffix [for]="startDate"></mat-datepicker-toggle>
        <mat-datepicker #startDate ></mat-datepicker>
        </mat-form-field>
        </div>

        <div class='loomDate'>
            <mat-form-field>
            <input matInput [matDatepicker]="endDate" placeholder="End Date" name="end" formControlName="end">
            <mat-datepicker-toggle mdSuffix [for]="endDate"></mat-datepicker-toggle>
            <mat-datepicker #endDate ></mat-datepicker>
            </mat-form-field>
        </div> 
        <br clear='all'>
        <br><h1>Instructors</h1>

        <!-- These are the list of possible instructors -->
        <div formArrayName='instructor_choices' *ngFor='let instructor of instructor_choices.controls; let j = index'>
            <div [formGroupName]='j' class='loomCheckBox'>

                <mat-checkbox formControlName='value' id="{{'instructor'+j}}">{{instructor.value.username}}</mat-checkbox>

            </div>
        </div>

        <br clear='all'>
        <br><h1>Students</h1>
        <!-- These are the list of possible students -->
        <div formArrayName='student_choices' *ngFor='let student of student_choices.controls; let k = index'>
                <div [formGroupName]='k' class='loomCheckBox'>
            
                    <mat-checkbox formControlName='value' id="{{'student'+k}}">{{student.value.username}}</mat-checkbox>
            
                </div>
        </div>
        <br clear='all'>

        <br clear='all'><br>
        
</div><div class='loomButton' (click)="save()">Submit Changes</div>

</form> 

</div>


<div class='debug'>
    {{ classForm.dirty }}<br>
    {{ classForm.valid }}<br>
 {{ classForm.value | json }}
</div>